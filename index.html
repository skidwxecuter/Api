<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Redirect Site Maker</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; }
    input, button { padding: 10px; margin: 5px 0; width: 100%; }
    button { cursor: pointer; }
  </style>
</head>
<body>
  <h1>Redirect Site Maker</h1>

  <label>Target URL:</label>
  <input type="url" id="targetUrl" placeholder="https://example.com">

  <label>Custom Site Name (optional):</label>
  <input type="text" id="siteName" placeholder="my-custom-redirect">

  <button onclick="createRedirect()">Create Redirect Site</button>

  <h3 id="result"></h3>

  <script>
    async function createRedirect() {
      const targetUrl = document.getElementById('targetUrl').value;
      const siteName = document.getElementById('siteName').value;
      if (!targetUrl) {
        alert('Please enter a target URL!');
        return;
      }

      const response = await fetch('https://YOUR_RENDER_BACKEND_URL/create-redirect', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ targetUrl, siteName })
      });

      const data = await response.json();
      if (data.siteUrl) {
        document.getElementById('result').innerHTML = `
          âœ… Site created!<br>
          <a href="${data.siteUrl}" target="_blank">${data.siteUrl}</a>
        `;
      } else {
        document.getElementById('result').innerText = 'Error: ' + JSON.stringify(data);
      }
    }
  </script>
</body>
</html>
